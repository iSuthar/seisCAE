# ============================================================================
# seisCAE Detection-Focused Configuration
# ============================================================================
# Optimized configuration for event detection and spectrogram generation.
# Use this when you want to focus on the detection stage.
#
# Author: Ankit Suthar
# Date: 2025-11-02
# ============================================================================

# Event Detection Parameters
# ---------------------------
# Optimized for sensitive detection
detection:
  sta_seconds: 0.5              # Short STA window for fast events
  lta_seconds: 30.0             # Long LTA window for stable baseline
  threshold_on: 20.0            # Lower threshold for more sensitivity
  threshold_off: 2.5            # Lower off threshold
  sampling_rate: 100.0          # Expected sampling rate
  highpass_freq: 1.0            # Remove long-period noise

# Detection method
method: "classic"               # "classic" or "multi_window"

# Multi-window STA/LTA parameters (only used when method="multi_window")
delta_sta: 20.0                 # Ratio between longest/shortest STA windows
delta_lta: 20.0                 # Ratio between longest/shortest LTA windows
epsilon: 2.0                    # Maximum ratio between adjacent windows

# Event filtering parameters
min_event_duration: 0.0         # Minimum event duration in seconds (0 = no filter) 
dead_time: 0.0                  # Minimum time between events in seconds (0 = no filter)

# Spectrogram Generation Parameters
# ----------------------------------
spectrogram:
  nperseg: 128                  # Good time-frequency resolution
  noverlap_ratio: 0.95          # High overlap for smooth spectrograms
  nfft: 512                     # Good frequency resolution
  freq_min: 0.5                 # Lower minimum for low-frequency events
  freq_max: 50.0                # Standard maximum
  time_bins: 40                 # Standard time bins
  freq_bins: 256                # Standard frequency bins
  window_seconds: 4.0           # 4-second window

# I/O Parameters
# --------------
io:
  output_base: ./results_detection
  save_waveforms: true          # Save all waveforms
  save_spectrograms: true       # Save all spectrograms
  save_diagnostics: true        # Save all diagnostic plots
  file_pattern: "*"             # File pattern (e.g., "*.mseed", "*.sac", "*" for all files)
  recursive_search: false       # Set to true for nested directory structures

# Components
# ----------
components:
  - EHZ                         # Vertical component
  - EHN                         # North component
  - EHE                         # East component

# Hardware
# --------
hardware:
  gpu: -1                       # CPU for detection (no GPU needed)
  mixed_precision: false
  deterministic: true

# Logging
# -------
logging:
  level: DEBUG                  # Verbose logging for detection
  log_file: detection.log
  format: "%(asctime)s | %(levelname)s | %(message)s"

# Future Features (Not Yet Implemented)
# --------------------------------------
# detection_options:
#   max_event_duration: 60.0      # Maximum event duration (seconds)
#   merge_nearby_triggers: true   # Merge triggers within gap
#   merge_gap_seconds: 1.0        # Gap for merging (seconds)
#   reject_low_energy: true       # Reject low-energy events
#   energy_threshold: 0.01        # Energy threshold for rejection

# quality_control:
#   check_data_quality: true      # Check for data gaps, spikes
#   reject_clipped: true          # Reject clipped waveforms
#   reject_gaps: true             # Reject data with gaps
#   max_gap_fraction: 0.1         # Maximum allowed gap fraction
